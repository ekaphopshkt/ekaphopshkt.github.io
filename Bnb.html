<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ราคา BNB Real-time</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts for Thai characters -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Kanit', sans-serif; }
        @keyframes pulse-light {
            0%, 100% { text-shadow: 0 0 5px rgba(52, 211, 153, 0.5); }
            50% { text-shadow: 0 0 20px rgba(52, 211, 153, 1); }
        }
        .price-pulse { animation: pulse-light 2s infinite; }
        .loader {
            border-top-color: #3498db;
            -webkit-animation: spin 1s linear infinite;
            animation: spin 1s linear infinite;
        }
        @-webkit-keyframes spin {
            0% { -webkit-transform: rotate(0deg); }
            100% { -webkit-transform: rotate(360deg); }
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-900 text-white flex items-center justify-center min-h-screen p-4">

    <!-- Main container card -->
    <div class="w-full max-w-lg p-6 sm:p-8 bg-gray-800 rounded-2xl shadow-2xl border border-gray-700 text-center">

        <!-- Header section -->
        <div class="flex items-center justify-center mb-4">
            <img src="https://s2.coinmarketcap.com/static/img/coins/64x64/1839.png" alt="BNB Logo" class="w-12 h-12 mr-4" 
                 onerror="this.onerror=null;this.src='https://placehold.co/64x64/1f2937/ffffff?text=BNB';">
            <h1 class="text-2xl sm:text-3xl font-bold text-gray-100">ราคา Binance Coin (BNB)</h1>
        </div>
        <p class="text-gray-400 mb-2">ข้อมูล Real-time จาก Binance (BNB/USDT)</p>

        <!-- Price display section -->
        <div id="price-container" class="bg-gray-900/50 p-6 rounded-xl border border-gray-600">
            <p class="text-5xl font-bold my-4 text-gray-400 price-pulse" id="bnb-price">
                <span class="loader border-4 border-gray-500 rounded-full w-10 h-10 inline-block"></span>
            </p>
            <p id="last-updated" class="text-sm text-gray-500 h-4">กำลังเชื่อมต่อ...</p>
        </div>

        <p class="text-xs text-gray-600 mt-8">*ข้อมูลทั้งหมดเป็นการจำลองเพื่อการสาธิต ไม่ใช่คำแนะนำในการลงทุน</p>
    </div>

    <script>
        const elements = {
            bnbPrice: document.getElementById('bnb-price'),
            lastUpdated: document.getElementById('last-updated')
        };

        let lastPrice = 0;
        let currentBnbPrice = 0;

        // --- Real-time Price via WebSocket ---
        function setupWebSocket() {
            const ws = new WebSocket('wss://stream.binance.com:9443/ws/bnbusdt@ticker');
            ws.onopen = () => { elements.lastUpdated.textContent = 'เชื่อมต่อสำเร็จแล้ว'; elements.bnbPrice.classList.remove('text-gray-400'); };
            ws.onmessage = (event) => {
                const price = parseFloat(JSON.parse(event.data).c);
                if (currentBnbPrice === 0) { elements.bnbPrice.classList.add('text-green-400'); }
                if (price > lastPrice && lastPrice !== 0) { elements.bnbPrice.className = 'text-5xl font-bold my-4 price-pulse text-green-400'; } 
                else if (price < lastPrice) { elements.bnbPrice.className = 'text-5xl font-bold my-4 price-pulse text-red-400'; }
                lastPrice = price; currentBnbPrice = price;
                elements.bnbPrice.textContent = `$${price.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
                elements.lastUpdated.textContent = `อัปเดตล่าสุด: ${new Date().toLocaleTimeString('th-TH')}`;
            };
            ws.onerror = () => { elements.lastUpdated.textContent = 'การเชื่อมต่อขัดข้อง'; };
            ws.onclose = () => { elements.lastUpdated.textContent = 'การเชื่อมต่อถูกตัด'; };
        }

        setupWebSocket();
    </script>
</body>
</html>
